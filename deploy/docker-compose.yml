version: '3.9'

services:
  face-api:
    image: mcr.microsoft.com/dotnet/aspnet:8.0
    container_name: face-api
    working_dir: /app
    volumes:
      - ../src/backend/Face.Api:/app
    command: ["dotnet", "Face.Api.dll"]
    ports:
      - "8000:8080"
    depends_on:
      - frame-preprocess

  frame-preprocess:
    image: python:3.11
    container_name: frame-preprocess
    working_dir: /app
    volumes:
      - ../src/ai-services/frame-preprocess:/app
    command: ["python", "-m", "app.main"]
    ports:
      - "8010:8010"
